{% extends "../shared/layout.html" %} 
{% block title %}我的工作台{% endblock %} 

{% block css %}
		<link rel="stylesheet" href="{{ path.plugins }}gridstack/gridstack.css">
{% endblock %} 

{% block bodyClass %}skin-blue{% endblock %}

{% block content %}
				<div class="row">
					<div class="col-xs-12">
	        			<div class="grid-stack">
	        				
	        			</div>
					</div>
		        </div>
		        	        
{% endblock %}
			
{% block js %}
		<script src="{{ path.plugins }}jqueryui/jquery-ui-drag-drop-resize-sortable-1.12.1.js"></script>
		<script src="{{ path.plugins }}lodash/lodash.js"></script>
		<script src="{{ path.plugins }}gridstack/gridstack.js"></script>
		<script src="{{ path.plugins }}gridstack/gridstack.jQueryUI.js"></script>
		<script src="{{ path.src }}js/{{ name.lower }}-widgets-{{ version.widgets }}.js" type="text/javascript"></script>
		<script type="text/javascript">
            
			$(function () {
	            var workbench=$('.grid-stack').workbench({
	            	cellHeight: 20,
	                verticalMargin: 20,
					// 部件初始加载，需要返回json数据
					loadHandle: function(){
						return JSON.parse(window.localStorage.workbench||'[]');
					},
					// 保存操作
	                saveHandle: function(data){
	                	window.localStorage.workbench=JSON.stringify(data, null, '    ');
						//alert(JSON.stringify(data, null, '    '));
	                }
	            });
	        });
		</script>
			
{% endblock %}